import BelowDocument from "@site/src/components/BelowDocument";

# KPM をインストールする

このページでは、KPM を新規にインストールします。

---

## このページの前提要件

| 要件名                                                    | 要件                                               | 摘要                                                                                                                         |
| :-------------------------------------------------------- | :------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------- |
| [Minecraft](https://www.minecraft.net) サーバソフトウェア | [PaperMC](https://papermc.io/) 1.13+               |                                                                                                                              |
| Java バージョン                                           | Java 1.8+                                          | PaperMC のバージョンに依存します。 [PaperMC ドキュメント](https://docs.papermc.io/paper/getting-started)を参照してください。 |
| [GitHub](https://www.github.com) アカウント               | 有効な [GitHub](https://www.github.com) アカウント | プラグインの解決に [GitHub](https://www.github.com) アカウントが必要です。                                                   |

:::caution

KPM は、 [PaperMC](https://www.papermc.io/) 以外のサーバ(例：Spigot, Bukkit…)では動作しません。
[PaperMC](https://www.papermc.io/) への移行ガイドは[こちら](https://docs.papermc.io/paper/migration)から参照してください。

:::

---

## KPM をサーバに追加する

### ステップ 1：最新のプラグイン・アーティファクト をダウンロードする

1. [こちら](https://www.github.com/TeamKUN/TeamKUNPluginManager/releases/latest)にアクセスし、最新リリースを確認します。
2. Assets の下の `TeamKunPluginManager-<バージョン>.jar` をクリックすると、ダウンロードが始まります。
3. 任意の場所に保存してください。

### ステップ 2：サーバのプラグインフォルダに配置する

あなたが普段プラグインを追加するように、 KPM をサーバのプラグインフォルダ（例： `plugins/` ）に配置します。

### ステップ 3：サーバを再起動する

サーバを再起動して KPM を有効化します。

:::caution

KPM は、PlugMan 等を使用した動的再読み込みには対応していません！  
これを行うと、予期しないバグまたはエラーが発生する可能性があります。  
(<kbd>/reload</kbd> 等のサーバのビルトイン・コマンドを使用した動的再読み込みは可能です。)

:::

---

## KPM と GitHub を連携する

KPM を使用するには、 GitHub と連携する必要があります。

### ステップ 1：チュートリアルに従って、GitHub と連携する

<BelowDocument docId="use-kpm/getting-started/link-github" />

### ステップ ２：プラグイン定義ファイルをアップデートする

<kbd>/kpm update</kbd> コマンドを実行して、プラグイン定義ファイルをアップデートします。これにより、 KPM のプラグイン解決精度が上がります。

---

## KPM を設定する

KPM は、初期状態でも使用できますが、いくつかの設定を行うことで、より便利に使用できます。

<BelowDocument docId="use-kpm/getting-started/configuration" />
