import BelowDocument from "@site/src/components/BelowDocument";

# 古いバージョンからの移行ガイド

古い KPM から最新の KPM に移行するためのガイドです。

---

:::warning

KPM v2 はもうサポートされていません。KPM v3 に移行してください。

:::

## 移行できる KPM のバージョン

| KPM バージョン | 移行のサポート | 備考 |
|:--|:--|:--|
| `v0.x.x` | いいえ | |
| `v1.x.x` | いいえ | |
| `v2.x.x` | はい | KPM v2 から最新バージョンへの移行は、自動アップグレードができます。 |
| `v3.x.x` | はい | KPM v3 から最新バージョンへの移行は、自動アップグレードができます。 |


## レガシー KPM (v2) から v3 への移行

レガシーバージョンからの移行は、 KPM Upgrader と呼ばれる移行ツールを使用して行います。  
KPM Upgrader をインストールするには、<kbd>/kpm i u</kbd>コマンドを実行します。

インストールの完了と同時に、自動でアップグレードが行われます。

:::info
レガシー KPM の設定 (config.yml) は可能な限り自動で引き継がれますが、一部の設定の引き継ぎができない場合があります。  
その場合は、 KPM のデータディレクトリにある自動生成されたバックアップファイル (`config.yml.old`) を参考に手動で移行を行ってください。
:::

:::tip

KPM v3 より前のバージョンは、「レガシー KPM 」と呼ばれます。

:::

## v3 から最新の v3 への移行

KPM v3 同士の移行は、内包されたアップグレーダが使用できます。  
アップグレードを行うには、[<kbd>/kpm upgrade-kpm</kbd>](/docs/use-kpm/commands/#upgrade-kpm)コマンドを実行し、プロンプトに従ってアップグレードを行ってください。

<BelowDocument docId={"use-kpm/commands/README"} anchor={"upgrade-kpm"} />
