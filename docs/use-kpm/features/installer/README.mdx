import Since from "@site/src/components/Since";
import DocCardList from "@theme/DocCardList"
import { useCurrentSidebarCategory } from "@docusaurus/theme-common"

# インストーラ

サーバのプラグインを安全に変更します。

---

## 概要

プラグインインストーラは、サーバ上で稼働しているプラグインを安全かつ完全に変更するためのモジュール郡です。
KPM におけるプラグインの変更は、それぞれの機能を分担したインストーラが行います。  
また、 KPM のインストーラは全てプラグイン・コマンドから使用できます。

:::tip

ここで説明されている「インストーラ」は、プラグインを追加するインストーラとは異なります。  
プラグインを追加するインストーラは、「プラグインインスト―ラ」と呼ばれるもので、インストーラの実装のひとつです。

:::

<Since version="v3" />

## インストーラの機能

### インストールのキャッシュ

全てのプラグインの変更には、再起動時に削除されるキャッシュが与えられます。  

:::info

キャッシュは、 `plugins/TeamKUNPluginManager/.caches` 以下のランダムな文字列で構成されたディレクトリ以下に保存されます。

:::

### インストールタスク

インストーラの操作は、タスクと呼ばれる更に細分化された操作の集合です。
タスクチェーンと呼ばれるタスクの集合を段階的に実行することで、プラグインの変更を行います。また、一部のタスクは複数のインストーラによって共有されています。

<Since version="v3" newMode /> 

## インストールステータス

全てのインストールは、インストールステータスと呼ばれるオブジェクトによって管理されます。
予期しないエラーが発生した場合や、インストールに失敗した場合などに、インストールステータスがダンプされます。それぞれのステータスについては、各実装のドキュメントを参照してください。

## インストーラの実装一覧

<DocCardList items={useCurrentSidebarCategory().items} />
